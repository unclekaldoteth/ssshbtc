# Sssh BTC Wallet Sepolia Deployment (2026-02-18)

> Historical note: This deployment was originally executed and documented under the former project name `ShadowBTC`.

Network: `SN_SEPOLIA`  
Deployer account: `0x06248d2e0f0a275208ce25507230b568d422d582cbdc1651ed7a926febd44fbf`

## Admin-controlled VerifierAdapter redeploy (latest, 2026-02-20)

Target wallet (adapter admin + verifier admin + pool owner): `0x01be870944b9730e6db1215e8c5e78de267479c779ba8efcf6c25feba0713d80`

- `TestVectorVerifier`
  - Class hash: `0x04a73db2d141594da56e9b1fd0b7e042019e3047a4eeeef24458e5d8d4124bbc`
  - Address: `0x0419a3bb5ab2684f29136e23f7479dbe153d828b78b3f287f0afb20816e710c4`
  - Deploy tx: `0x07c1bfedd706b241ae81b200ab5bb4f2b3a1270493ea3199be9ca9ce7cf55633`
- `VerifierAdapter` (constructor now takes explicit `admin`)
  - Class hash: `0x04e45d09a202ee0a58a29ee98688cb055a18c4111c51d484e0f0001bbd98cb87`
  - Address: `0x0316d37f5a73ae8fab2a220ac51fe4ce3b758cf89c418d3332f4625bc66451fd`
  - Constructor args: `verifier=TestVectorVerifier`, `mock_mode=0`, `admin=0x01be...3d80`
  - Deploy tx: `0x035e607f64b89cde0b0cb9cbbd24cfcc2960392ee27bbbecdb9b075ba8f108a7`
- `ShieldedPool`
  - Class hash: `0x061fa504879808b0eecf016671d1fd1db83e680ef9fa17735cd2f2bfc7df4221`
  - Address: `0x078017080b2e15ab289e6966810b669f00a166ef97ed90f7f84e9af32658335a`
  - Constructor args: `owner=0x01be...3d80`, `verifier_adapter=VerifierAdapter`, `initial_root=0x0`
  - Deploy tx: `0x031f1e3bce3aa67bd59d2381a25292f5c0ba71a73b360c6ef11e122d112d29eb`
- `PaymentRequestRegistry`
  - Class hash: `0x004814fe6d00a80c1b407c9bcb302308468cb7858b64f6a9d0cd0b8ec46b5149`
  - Address: `0x07ee0227c0764a0f87057aeb5a10c08012b99cf9520e6029cf8b4ca121b09bea`
  - Deploy tx: `0x06292e4046e2c51bd622c8baf11a516b35be50be0bc08face2f15483fb36f101`

Onchain verification:
- `ShieldedPool.owner` storage slot equals `0x01be...3d80`.
- `VerifierAdapter.admin` storage slot equals `0x01be...3d80`.
- `TestVectorVerifier.admin` storage slot equals `0x01be...3d80`.
- `VerifierAdapter.get_verifier()` returns `0x0419a3...10c4`.
- `VerifierAdapter.is_mock_mode()` returns `false`.

## Admin-owner migration deployment (previous, 2026-02-18)

Target wallet (admin + pool owner): `0x01be870944b9730e6db1215e8c5e78de267479c779ba8efcf6c25feba0713d80`

- `TestVectorVerifier`
  - Class hash: `0x04a73db2d141594da56e9b1fd0b7e042019e3047a4eeeef24458e5d8d4124bbc`
  - Address: `0x051dbacc9d56848cc9e48e7a30fedc826778df9d72214222492244874081819f`
  - Deploy tx: `0x062c6e7d7bd75b1ce4b079f818f87e1b92c53dc571c94b65ac580cd58914183a`
- `VerifierAdapter`
  - Class hash: `0x0570c3807a837e03d40d380b0fb4dec64639b2f96bde10d33c2e98818c7b677e`
  - Address: `0x06e2f477ca9a1efee7a8fcaaf15d403f6e6a51f835c5d32110c8bcbaea756618`
  - Constructor args: `verifier=TestVectorVerifier`, `mock_mode=0`
  - Deploy tx: `0x07e177cdc195ef322209faea0b4aed47f5de2238def50a819a6d6e108f285e3f`
- `ShieldedPool`
  - Class hash: `0x061fa504879808b0eecf016671d1fd1db83e680ef9fa17735cd2f2bfc7df4221`
  - Address: `0x0298de6b6d67241f9ec33d71adb6f79127664490e2c7349e216a2bfa91033966`
  - Constructor args: `owner=0x01be...3d80`, `verifier_adapter=VerifierAdapter`, `initial_root=0x0`
  - Deploy tx: `0x0111173db96c1a91cf821d03a237806071df251e0913a0a83d6dcf51f0417410`
- `PaymentRequestRegistry`
  - Class hash: `0x004814fe6d00a80c1b407c9bcb302308468cb7858b64f6a9d0cd0b8ec46b5149`
  - Address: `0x02ec22fb36d19af27aa9d203a500f46bbd9daf6ad34544913d6cf56b99449479`
  - Deploy tx: `0x0641b08044e47d010c372e404249de231d066d37822701062a57ed8ad5e0e29e`

Onchain verification:
- `ShieldedPool.owner` storage slot equals `0x01be...3d80`.
- `TestVectorVerifier.admin` storage slot equals `0x01be...3d80`.
- `VerifierAdapter.get_verifier()` returns `0x051dba...819f`.
- `VerifierAdapter.is_mock_mode()` returns `false`.
- `TestVectorVerifier.is_digest_allowed(transfer_digest)` returns `true`.
- `TestVectorVerifier.is_digest_allowed(withdraw_digest)` returns `true`.

Admin transactions (signed by `0x01be...3d80`):
- `whitelist_asset(STRK, true)` tx: `0xc864c39bbc3d65d7fd4ae529f334d775ab03a2ade17530856bde6456778d62`
- `register_digest(transfer_digest)` tx: `0x1660a5009ee9675b13977a4dd6d8ea19f75b0657656b81514789bf7d679636d`
- `register_digest(withdraw_digest)` tx: `0x10c86164593049831df1b95da61095f0d228f3784ebd07d9203e65329a1bedf`

Live flow on latest set (signed by deployer `0x0624...4fbf`):
- `approve(STRK -> ShieldedPool, 0.01)` tx: `0x01bc894c88e87676d3e5a04842910a5b46563166a5bd0689153bcffb44a85d40`
- `deposit(STRK, 0.01, commitment=0xabc30001, encrypted_note=0xabc3eeee)` tx: `0x02ea9f68cfe0a69af17296a2a97434866dc8d09be990c008a316aad538f078ca`
- `transact(...)` tx: `0x017eadb2b1faa598052b7e17659750536c566603ba6cd81840b26b8fe75343ee`
- `withdraw(..., amount=0.004 STRK)` tx: `0x07c843957971cc9689649d1bd86a710da6fa65542dacf1eed1d1237a06e4acdc`

Post-run checks on latest `ShieldedPool`:
- `get_commitment_count() == 3`
- `is_nullifier_used(0xc30001) == true`
- `is_nullifier_used(0xc30003) == true`
- Pool STRK balance: `0x1550f7dca70000` (`0.006 STRK` retained)

## Admin-owner migration deployment (previous)

Target wallet (admin + pool owner): `0x0295f31ce2f58c8562ff1cec130f29c4ad602a2612402f0334e409b8a5f6c521`

- `TestVectorVerifier`
  - Class hash: `0x04a73db2d141594da56e9b1fd0b7e042019e3047a4eeeef24458e5d8d4124bbc`
  - Address: `0x06b208b21eff87071bedb8f708eaefa01cd157cf34de8c803ee954a314dc0eb6`
  - Deploy tx: `0x039baf9b1d2b334258dc83e4556dc87bfe95962935a3c6f09c255fcbbe0c208d`
- `VerifierAdapter`
  - Class hash: `0x0570c3807a837e03d40d380b0fb4dec64639b2f96bde10d33c2e98818c7b677e`
  - Address: `0x015b46a861265c521eaea611bb1d1bbd9cd554f9b04879867cedfebc9c8e35fd`
  - Constructor args: `verifier=TestVectorVerifier`, `mock_mode=0`
  - Deploy tx: `0x05bac518506db81f959c0ff9d7d8c74ea78dc27d7fc59ad978074fd04d5882ce`
- `ShieldedPool`
  - Class hash: `0x061fa504879808b0eecf016671d1fd1db83e680ef9fa17735cd2f2bfc7df4221`
  - Address: `0x027b369705ebcbc79dfed0033cdec9f158f1ca0c6fd631607378e82e93c7ea06`
  - Constructor args: `owner=0x0295...c521`, `verifier_adapter=VerifierAdapter`, `initial_root=0x0`
  - Deploy tx: `0x067ce4196bf8832407a8b70348e4e4ddffd2c59666de1b04b270feffdf275542`
- `PaymentRequestRegistry`
  - Class hash: `0x004814fe6d00a80c1b407c9bcb302308468cb7858b64f6a9d0cd0b8ec46b5149`
  - Address: `0x064f92eb975fa9f2f562a18193463a0f45d493fd2e21436324572ee7c28222ea`
  - Deploy tx: `0x0545debaa7c7a362b3a218375748edb38335064e4d560ac2e342a00e5999d077`

Onchain verification:
- `ShieldedPool.owner` storage slot equals `0x0295...c521`.
- `TestVectorVerifier.admin` storage slot equals `0x0295...c521`.
- `VerifierAdapter.get_verifier()` returns `0x06b208...0eb6`.
- `VerifierAdapter.is_mock_mode()` returns `false`.

## Previous deployment set

- `TestVectorVerifier` (fixed constructor with explicit admin):
  - Class hash: `0x04a73db2d141594da56e9b1fd0b7e042019e3047a4eeeef24458e5d8d4124bbc`
  - Address: `0x00112f75a19f152cbe136317ff3eaabf5412cbaaf6959d699b266180f9ab8a6f`
- `VerifierAdapter`:
  - Class hash: `0x0570c3807a837e03d40d380b0fb4dec64639b2f96bde10d33c2e98818c7b677e`
  - Address: `0x033e7b4a881596cecb4613a0a1888106c3f31ea4c8c93f5df017657c7a3d91d5`
  - Constructor args: `external_verifier=TestVectorVerifier`, `mock_mode=0`
- `ShieldedPool`:
  - Class hash: `0x061fa504879808b0eecf016671d1fd1db83e680ef9fa17735cd2f2bfc7df4221`
  - Address: `0x02f42dc2e9f0384219a1bf2b298e29c914d33fad43f482c88e6c654277f74edc`
  - Constructor args: `owner=<deployer_account>`, `verifier_adapter=VerifierAdapter`, `initial_root=0x0`
- `PaymentRequestRegistry`:
  - Class hash: `0x004814fe6d00a80c1b407c9bcb302308468cb7858b64f6a9d0cd0b8ec46b5149`
  - Address: `0x0405ad67796632bb34ad1f01afc8a7fb7a11fc1507109a47b53e127a79cf010f`

## Digest registrations

- Transfer digest: `0x750528b8729e828eed1ef18512a4c5f3c0dde1a02a73010a252ad41b650c28c`
- Withdraw digest: `0x7edf6dbaf50a032bc653c2e5ff3a44cd4819400980c8200e27ce9368c951892`
- Registered on `TestVectorVerifier`: both `is_digest_allowed(...) == true`

## Onchain verification checks

- `VerifierAdapter.verify_proof(transfer_vector_proof, transfer_vector_publicSignals) == true`
- `VerifierAdapter.verify_proof(withdraw_vector_proof, withdraw_vector_publicSignals) == true`

## Live flow (completed)

Asset used: ETH token on Starknet Sepolia  
`0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7`

- Whitelist asset:
  - `whitelist_asset(asset, true)` tx: `0x021f6271d8a8e9ed7a61bd21eb0eed3e214794cb653dbc6736262ad3c529daac`
- Deposit:
  - `deposit(asset, amount=0, commitment=0xabc10001, encrypted_note=0xabc1eeee)` tx: `0x0478b48f78d343657c8da413c98c707c243d199a18bd561ca38678c6a65299f8`
- Private transfer:
  - `transact(...)` using transfer proof vector, nullifier `0x9a1001` tx: `0x065365da7ddee7ae816d9101b84254eb2fd9d71dbf6db37142d31590e5d7d88f`
- Withdraw:
  - `withdraw(...)` using withdraw proof vector, nullifier `0x9a1003` tx: `0x011b44c7055dea574d5e5d90f573adc56a2f07479009404309b2f09a7d19435f`

Post-run checks on `ShieldedPool`:
- `get_commitment_count() == 2`
- `is_nullifier_used(0x9a1001) == true`
- `is_nullifier_used(0x9a1003) == true`

## Live flow (non-zero STRK)

Asset used: STRK token on Starknet Sepolia  
`0x04718f5a0fc34cc1af16a1cdee98ffb20c31f5cd61d6ab07201858f4287c938d`

Amount plan:
- Deposit: `0.01 STRK` (`10000000000000000` wei-style units)
- Withdraw: `0.004 STRK` (`4000000000000000` units)

Transactions:
- `whitelist_asset(STRK, true)` tx: `0x057259b8ce4360fce56b82158f32ee27e125aa11bc567b7b142699e251aacf70`
- `deposit(STRK, 0.01, commitment=0xabc20001, encrypted_note=0xabc2eeee)` tx: `0x0681c86b6b86d1fad6580023ea75965e4b63cb21a7c2bc3d04a1a494127489a5`
- `transact(...)` tx: `0x04c6055a017249c594fe9ea1ffb071b884c0c35c16d8ea6af239554fa9bba2a5`
- `withdraw(..., amount=0.004 STRK)` tx: `0x03c5634acee8bf76f01ff663cccd41c7130f2ec2743610439bdf716cdf491666`

Post-run checks on `ShieldedPool`:
- `get_commitment_count() == 4`
- `is_nullifier_used(0x9b1001) == true`
- `is_nullifier_used(0x9b1003) == true`

Balance snapshot (`balance_of`):
- User before: `890519717911995838144`
- User after: `890461080800907545088`
- Pool after: `6000000000000000` (expected retained 0.006 STRK)
